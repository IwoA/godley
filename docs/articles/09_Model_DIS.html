<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="godley">
<title>Model DIS • godley</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Model DIS">
<meta property="og:description" content="godley">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">godley</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/01_Model_SIM.html">Model SIM</a>
    <a class="dropdown-item" href="../articles/02_Model_SIMEX.html">Model SIMEX</a>
    <a class="dropdown-item" href="../articles/03_Model_PC.html">Model PC</a>
    <a class="dropdown-item" href="../articles/04_Model_LP.html">Model LP</a>
    <a class="dropdown-item" href="../articles/05_Model_REG.html">Model REG</a>
    <a class="dropdown-item" href="../articles/06_Model_OPEN.html">Model OPEN</a>
    <a class="dropdown-item" href="../articles/07_Model_BMW.html">Model BMW</a>
    <a class="dropdown-item" href="../articles/08_Model_BMWK.html">Model BMWK</a>
    <a class="dropdown-item" href="../articles/09_Model_DIS.html">Model DIS</a>
    <a class="dropdown-item" href="../articles/10_Model_DISINF.html">Model DISINF</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/gamrot/godley">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="09_Model_DIS_files/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="09_Model_DIS_files/plotly-binding-4.10.0/plotly.js"></script><script src="09_Model_DIS_files/typedarray-0.1/typedarray.min.js"></script><link href="09_Model_DIS_files/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="09_Model_DIS_files/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="09_Model_DIS_files/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="09_Model_DIS_files/plotly-main-2.5.1/plotly-latest.min.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Model DIS</h1>
            
      
      
      <div class="d-none name"><code>09_Model_DIS.Rmd</code></div>
    </div>

    
    
<p>Please find below guidelines how godley package can be used to create
model DIS — model with private bank money, inventories and
disequilibrium (of a kind) in the goods market described by <em>Wynne
Godley</em> and <em>Marc Lavoie</em> in Chapter 9 in <em>Monetary
Economics. An Integrated Approach to Credit, Money, Income, Production
and Wealth.</em></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">godley</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="base-scenario">Base scenario<a class="anchor" aria-label="anchor" href="#base-scenario"></a>
</h3>
<p>First you need to create empty SFC model:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create empty model</span></span>
<span><span class="va">model_dis</span><span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_model.html">create_model</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"SFC DIS"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Empty model created</span></span></code></pre></div>
<p>Next you have to add variables:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add variables</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"rl"</span>, init <span class="op">=</span> <span class="fl">0.025</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"pr"</span>, init <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"W"</span>, init <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"add"</span>, init <span class="op">=</span> <span class="fl">0.02</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"alpha0"</span>, init <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"alpha1"</span>, init <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"alpha2"</span>, init <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"beta"</span>, init <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"epsilon"</span>, init <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"gamma"</span>, init <span class="op">=</span> <span class="fl">0.25</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"phi"</span>, init <span class="op">=</span> <span class="fl">0.25</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"sigma_T"</span>, init <span class="op">=</span> <span class="fl">0.15</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"y"</span>, init <span class="op">=</span> <span class="fl">.001</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"p"</span>, init <span class="op">=</span> <span class="fl">.001</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"NHUC"</span>, init <span class="op">=</span> <span class="fl">.001</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"s_E"</span>, init <span class="op">=</span> <span class="fl">.001</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"inv_T"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"inv_E"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"inv"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"s"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"c"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"N"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"WB"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"UC"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"INV"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"S"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"EF"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"Ld"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"Ls"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"Ms"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"rm"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"EFb"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"Mh"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"YD"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"C"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"ydhs"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"mh"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"ydhs_E"</span><span class="op">)</span></span></code></pre></div>
<p>You also have to add equations:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add equations</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"y = s_E + inv_E - inv[-1]"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"inv_T = sigma_T * s_E"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"inv_E = inv[-1] + gamma * (inv_T - inv[-1])"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"inv = inv[-1] + (y - s)"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"s_E = beta * s[-1] + (1 - beta) * s_E[-1]"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"s = c"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"N = y / pr"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"WB = N * W"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"UC = WB / y"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"INV = inv * UC"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"S = p * s"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"p = (1 + phi) * NHUC"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"NHUC = (1 - sigma_T) * UC + sigma_T * (1 + rl[-1]) * UC[-1]"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"EF = S - WB + (INV - INV[-1]) - rl[-1] * INV[-1]"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"Ld = INV"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"Ls = Ld"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"Ms = Ls"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"rm = rl - add"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"EFb = rl[-1] * Ls[-1] - rm[-1] * Mh[-1]"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"YD = WB + EF + EFb + rm[-1] * Mh[-1]"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"Mh = Mh[-1] + YD - C"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"ydhs = c + (mh - mh[-1])"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"C = c * p"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"mh = Mh / p"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"c = alpha0 + alpha1 * ydhs_E + alpha2 * mh[-1]"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"ydhs_E = epsilon * ydhs[-1] + (1 - epsilon) * ydhs_E[-1]"</span><span class="op">)</span></span>
<span><span class="va">model_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_equation.html">add_equation</a></span><span class="op">(</span><span class="va">model_dis</span>, <span class="st">"Mh = Ms"</span>, hidden <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<p>Now you can simulate model (in this example for the next 100 periods
using Gauss method):</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Simulate model</span></span>
<span><span class="va">model_dis</span><span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_scenario.html">simulate_scenario</a></span><span class="op">(</span><span class="va">model_dis</span>, scenario <span class="op">=</span> <span class="st">"baseline"</span>, max_iter <span class="op">=</span> <span class="fl">350</span>, periods <span class="op">=</span> <span class="fl">100</span>, </span>
<span>                              hidden_tol <span class="op">=</span> <span class="fl">0.1</span>, tol <span class="op">=</span> <span class="fl">1e-08</span>, method <span class="op">=</span> <span class="st">"Gauss"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Model prepared successfully</span></span>
<span><span class="co">#&gt; Simulating scenario baseline (1 of 1)</span></span>
<span><span class="co">#&gt; Scenario(s) successfully simulated</span></span></code></pre></div>
<p>Based on calculated simulation you can display results for desired
set of variables:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot results</span></span>
<span><span class="fu"><a href="../reference/plot_simulation.html">plot_simulation</a></span><span class="op">(</span>model <span class="op">=</span> <span class="va">model_dis</span>, scenario <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"baseline"</span><span class="op">)</span>, from <span class="op">=</span> <span class="fl">1</span>, to <span class="op">=</span> <span class="fl">50</span>, </span>
<span>                expressions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ydhs"</span>, <span class="st">"c"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div id="htmlwidget-79d7f9b2da184e1abccb" style="width:100%;height:432.632880098888px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-79d7f9b2da184e1abccb">{"x":{"visdat":{"1f706be371d4":["function () ","plotlyVisDat"]},"cur_data":"1f706be371d4","attrs":{"1f706be371d4":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":[0,0.882597058823533,17.3196075792982,18.7696210495616,27.5957974559324,32.2071780006862,38.0473466929428,42.6376515617615,47.1419206032563,51.0587634591875,54.6545631272293,57.845787818002,60.7104992767897,63.2527299725086,65.5098296149309,67.5026579013306,69.2580234793086,70.7981038967216,72.1451136640567,73.3190579305422,74.3387221113396,75.2212269449323,75.9822798910731,76.6361356214802,77.1957105368383,77.6726406959812,78.0773745233446,78.4192541806968,78.7066034448823,78.9468113352733,79.1464144710292,79.3111753465522,79.4461567887591,79.5557917892649,79.6439486697525,79.7139914059942,79.7688351682371,79.8109971612604,79.8426429352962,79.8656283714997,79.8815375816233,79.8917169781296,79.8973057821734,79.8992632392291,79.8983928096956,79.8953635947987,79.8907292481257,79.8849446108541,79.8783802950114,79.8713354244658],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],"name":"baseline: ydhs","hovertemplate":"Period: %{x: 0f} <br> Value %{y:0f}","type":"scatter","mode":"lines+markers","line":{"width":2},"marker":{"size":3},"inherit":true},"1f706be371d4.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":[0,15,14.1178179411765,24.432592776097,27.2349526533785,33.4089072399402,37.5900301694436,42.2151870005048,46.1564726725995,49.9323386945543,53.3144171917986,56.423270591362,59.2239668299947,61.756058078939,64.0269231867935,66.059773094685,67.8708983634588,69.4795394188579,70.9029262530456,72.1582334511481,73.2614545732291,74.227764504054,75.071259442551,75.8050304286899,76.4411216215349,76.9905706306716,77.4634332620899,77.8688315908552,78.2150026949107,78.5093545396869,78.758522895925,78.9684296040588,79.1443400912778,79.2909196045924,79.4122872842548,79.5120676663959,79.5934392429986,79.6591798935289,79.7117090806177,79.7531267955859,79.7852492972745,79.8096417378078,79.8276478027683,79.8404165183673,79.8489263941015,79.8540070788528,79.8563587123072,79.8565691533502,79.8551292636029,79.8524464183637],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],"name":"baseline: c","hovertemplate":"Period: %{x: 0f} <br> Value %{y:0f}","type":"scatter","mode":"lines+markers","line":{"width":2},"marker":{"size":3},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"spikedistance":1000,"hovermode":"spikers","xaxis":{"domain":[0,1],"automargin":true,"title":"period"},"showlegend":true,"legend":{"xanchor":"left","x":1.02,"y":0.92},"title":{"text":"Scenario baseline"},"yaxis":{"domain":[0,1],"automargin":true,"title":[]}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"y":[0,0.882597058823533,17.3196075792982,18.7696210495616,27.5957974559324,32.2071780006862,38.0473466929428,42.6376515617615,47.1419206032563,51.0587634591875,54.6545631272293,57.845787818002,60.7104992767897,63.2527299725086,65.5098296149309,67.5026579013306,69.2580234793086,70.7981038967216,72.1451136640567,73.3190579305422,74.3387221113396,75.2212269449323,75.9822798910731,76.6361356214802,77.1957105368383,77.6726406959812,78.0773745233446,78.4192541806968,78.7066034448823,78.9468113352733,79.1464144710292,79.3111753465522,79.4461567887591,79.5557917892649,79.6439486697525,79.7139914059942,79.7688351682371,79.8109971612604,79.8426429352962,79.8656283714997,79.8815375816233,79.8917169781296,79.8973057821734,79.8992632392291,79.8983928096956,79.8953635947987,79.8907292481257,79.8849446108541,79.8783802950114,79.8713354244658],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],"name":"baseline: ydhs","hovertemplate":["Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}"],"type":"scatter","mode":"lines+markers","line":{"color":"rgba(31,119,180,1)","width":2},"marker":{"color":"rgba(31,119,180,1)","size":3,"line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"y":[0,15,14.1178179411765,24.432592776097,27.2349526533785,33.4089072399402,37.5900301694436,42.2151870005048,46.1564726725995,49.9323386945543,53.3144171917986,56.423270591362,59.2239668299947,61.756058078939,64.0269231867935,66.059773094685,67.8708983634588,69.4795394188579,70.9029262530456,72.1582334511481,73.2614545732291,74.227764504054,75.071259442551,75.8050304286899,76.4411216215349,76.9905706306716,77.4634332620899,77.8688315908552,78.2150026949107,78.5093545396869,78.758522895925,78.9684296040588,79.1443400912778,79.2909196045924,79.4122872842548,79.5120676663959,79.5934392429986,79.6591798935289,79.7117090806177,79.7531267955859,79.7852492972745,79.8096417378078,79.8276478027683,79.8404165183673,79.8489263941015,79.8540070788528,79.8563587123072,79.8565691533502,79.8551292636029,79.8524464183637],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],"name":"baseline: c","hovertemplate":["Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}"],"type":"scatter","mode":"lines+markers","line":{"color":"rgba(255,127,14,1)","width":2},"marker":{"color":"rgba(255,127,14,1)","size":3,"line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot results</span></span>
<span><span class="fu"><a href="../reference/plot_simulation.html">plot_simulation</a></span><span class="op">(</span>model <span class="op">=</span> <span class="va">model_dis</span>, scenario <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"baseline"</span><span class="op">)</span>, from <span class="op">=</span> <span class="fl">1</span>, to <span class="op">=</span> <span class="fl">50</span>, </span>
<span>                expressions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"delta_inv = inv - dplyr::lag(inv)"</span>, </span>
<span>                                <span class="st">"delta_inv_E = inv_E - dplyr::lag(inv_E)"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div id="htmlwidget-243096216f036aa5f506" style="width:100%;height:432.632880098888px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-243096216f036aa5f506">{"x":{"visdat":{"1f70792f7f1b":["function () ","plotlyVisDat"]},"cur_data":"1f70792f7f1b","attrs":{"1f70792f7f1b":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":[null,-14.999740625,1.30405705882353,-7.10525983813743,0.452747463204279,-1.50779465487652,0.573789325577934,0.530061004201876,1.23642920049603,1.41331107187573,1.68146435336072,1.78481458279992,1.86513367933819,1.87785551646314,1.86058415905362,1.81036953083819,1.74040854379277,1.65438636831958,1.55855701725297,1.45647196398974,1.35163411422293,1.2464849062895,1.14304596900509,1.04277729657905,0.946773279669742,0.855784785068181,0.770304426230467,0.690608343191855,0.616805315980017,0.548871573212267,0.486682710638576,0.430038798784722,0.378685637621032,0.332331819206303,0.290662644616575,0.253351192027225,0.220067074947693,0.190483228106956,0.16428107079193,0.141154321029333,0.120811706768947,0.102978778091199,0.0873989960348212,0.0738342450813008,0.0620648933157923,0.0518895036009042,0.0431242816597432,0.0356023318368841,0.0291727784703397,0.0236997998436408],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],"name":"baseline: delta_inv","hovertemplate":"Period: %{x: 0f} <br> Value %{y:0f}","type":"scatter","mode":"lines+markers","line":{"width":2},"marker":{"size":3},"inherit":true},"1f70792f7f1b.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":[null,9.375e-06,-10.8279375,1.05869841590073,-5.01867793092516,0.49594370587123,-0.91810774129334,0.601120639041747,0.570322950239577,1.08136485917173,1.20469027547421,1.39239596564738,1.45887186411938,1.50768507297004,1.50681540709051,1.48391214288441,1.43706955768664,1.37606740841834,1.30372305606622,1.22468383760789,1.14160100660598,1.05706543812915,0.972876109637059,0.890510879379026,0.811026882075746,0.735206001961436,0.663573352735388,0.596461272165053,0.534041323513467,0.476361315816465,0.423371657751396,0.374949387458676,0.33091706387474,0.291058701865358,0.255132531629098,0.222881366259029,0.194040812967284,0.168345736539438,0.145535234458549,0.125356389825402,0.107567010688344,0.0919375429157885,0.0782523116681677,0.066310224628074,0.0559250483376861,0.0469253513735453,0.0391541923059826,0.0324686170870407,0.026739018992556,0.0218484044823342],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],"name":"baseline: delta_inv_E","hovertemplate":"Period: %{x: 0f} <br> Value %{y:0f}","type":"scatter","mode":"lines+markers","line":{"width":2},"marker":{"size":3},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"spikedistance":1000,"hovermode":"spikers","xaxis":{"domain":[0,1],"automargin":true,"title":"period"},"showlegend":true,"legend":{"xanchor":"left","x":1.02,"y":0.92},"title":{"text":"Scenario baseline"},"yaxis":{"domain":[0,1],"automargin":true,"title":[]}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"y":[-14.999740625,1.30405705882353,-7.10525983813743,0.452747463204279,-1.50779465487652,0.573789325577934,0.530061004201876,1.23642920049603,1.41331107187573,1.68146435336072,1.78481458279992,1.86513367933819,1.87785551646314,1.86058415905362,1.81036953083819,1.74040854379277,1.65438636831958,1.55855701725297,1.45647196398974,1.35163411422293,1.2464849062895,1.14304596900509,1.04277729657905,0.946773279669742,0.855784785068181,0.770304426230467,0.690608343191855,0.616805315980017,0.548871573212267,0.486682710638576,0.430038798784722,0.378685637621032,0.332331819206303,0.290662644616575,0.253351192027225,0.220067074947693,0.190483228106956,0.16428107079193,0.141154321029333,0.120811706768947,0.102978778091199,0.0873989960348212,0.0738342450813008,0.0620648933157923,0.0518895036009042,0.0431242816597432,0.0356023318368841,0.0291727784703397,0.0236997998436408],"x":[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],"name":"baseline: delta_inv","hovertemplate":["Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}"],"type":"scatter","mode":"lines+markers","line":{"color":"rgba(31,119,180,1)","width":2},"marker":{"color":"rgba(31,119,180,1)","size":3,"line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"y":[9.375e-06,-10.8279375,1.05869841590073,-5.01867793092516,0.49594370587123,-0.91810774129334,0.601120639041747,0.570322950239577,1.08136485917173,1.20469027547421,1.39239596564738,1.45887186411938,1.50768507297004,1.50681540709051,1.48391214288441,1.43706955768664,1.37606740841834,1.30372305606622,1.22468383760789,1.14160100660598,1.05706543812915,0.972876109637059,0.890510879379026,0.811026882075746,0.735206001961436,0.663573352735388,0.596461272165053,0.534041323513467,0.476361315816465,0.423371657751396,0.374949387458676,0.33091706387474,0.291058701865358,0.255132531629098,0.222881366259029,0.194040812967284,0.168345736539438,0.145535234458549,0.125356389825402,0.107567010688344,0.0919375429157885,0.0782523116681677,0.066310224628074,0.0559250483376861,0.0469253513735453,0.0391541923059826,0.0324686170870407,0.026739018992556,0.0218484044823342],"x":[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],"name":"baseline: delta_inv_E","hovertemplate":["Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}"],"type":"scatter","mode":"lines+markers","line":{"color":"rgba(255,127,14,1)","width":2},"marker":{"color":"rgba(255,127,14,1)","size":3,"line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level3">
<h3 id="shock-scenario">Shock scenario<a class="anchor" aria-label="anchor" href="#shock-scenario"></a>
</h3>
<p>With godley package you can simulate how a shock will affect the base
scenario.</p>
<div class="section level4">
<h4 id="shock-1">Shock 1<a class="anchor" aria-label="anchor" href="#shock-1"></a>
</h4>
<p>In this example you will implement one-shot increase in the costing
margin.<br><br>
First you need to create empty shock:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create empty shock</span></span>
<span><span class="va">shock_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_shock.html">create_shock</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Shock object created</span></span></code></pre></div>
<p>Next you need to add appropriate equation:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add shock equation</span></span>
<span><span class="va">shock_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_shock.html">add_shock</a></span><span class="op">(</span><span class="va">shock_dis</span>, equation <span class="op">=</span> <span class="st">"phi = 0.35"</span>, </span>
<span>                       desc <span class="op">=</span> <span class="st">"One-shot increase in the costing margin"</span>, start <span class="op">=</span> <span class="fl">5</span>, end <span class="op">=</span> <span class="fl">40</span><span class="op">)</span></span></code></pre></div>
<p>Then you need to create new shock scenario:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create new scenario with this shock</span></span>
<span><span class="va">model_dis</span><span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_scenario.html">add_scenario</a></span><span class="op">(</span><span class="va">model_dis</span>, name <span class="op">=</span> <span class="st">"expansion1"</span>, origin <span class="op">=</span> <span class="st">"baseline"</span>, </span>
<span>                         origin_period <span class="op">=</span> <span class="fl">100</span>, shock <span class="op">=</span> <span class="va">shock_dis</span><span class="op">)</span></span></code></pre></div>
<p>Now you can simulate new shock scenario:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Simulate shock</span></span>
<span><span class="va">model_dis</span><span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_scenario.html">simulate_scenario</a></span><span class="op">(</span><span class="va">model_dis</span>, scenario <span class="op">=</span> <span class="st">"expansion1"</span>, max_iter <span class="op">=</span> <span class="fl">350</span>, periods <span class="op">=</span> <span class="fl">100</span>, </span>
<span>                              hidden_tol <span class="op">=</span> <span class="fl">0.1</span>, tol <span class="op">=</span> <span class="fl">1e-08</span>, method <span class="op">=</span> <span class="st">"Gauss"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simulating scenario expansion1 (1 of 1)</span></span>
<span><span class="co">#&gt; Scenario(s) successfully simulated</span></span></code></pre></div>
<p>You can also display results on the plot:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot results</span></span>
<span><span class="fu"><a href="../reference/plot_simulation.html">plot_simulation</a></span><span class="op">(</span>model <span class="op">=</span> <span class="va">model_dis</span>, scenario <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"expansion1"</span><span class="op">)</span>, from <span class="op">=</span> <span class="fl">1</span>, to <span class="op">=</span> <span class="fl">40</span>, </span>
<span>                expressions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"c"</span>, <span class="st">"ydhs"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div id="htmlwidget-fc8c31c1ac4965313f6c" style="width:100%;height:432.632880098888px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-fc8c31c1ac4965313f6c">{"x":{"visdat":{"1f70342e6887":["function () ","plotlyVisDat"]},"cur_data":"1f70342e6887","attrs":{"1f70342e6887":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":[79.7681395729929,79.7681377686795,79.7681377254159,79.7681390371338,79.7681413670155,79.2736616601342,79.5502985881463,79.4072809495088,79.4425457694256,79.4089329611537,79.4075468987745,79.3961140914263,79.3915143005381,79.3863334935372,79.3832324158817,79.3807794826215,79.3792798055586,79.3783671879005,79.3779902648792,79.3780010234015,79.3783197094274,79.3788628323774,79.3795692648061,79.3803863773836,79.381273038862,79.3821960254085,79.3831294624062,79.3840532978016,79.3849524220955,79.3858157395989,79.3866354504035,79.3874064119394,79.3881256124861,79.3887917240291,79.3894047308051,79.3899656199457,79.3904761265213,79.3909385244951,79.3913554568829,79.3917297989939],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40],"name":"expansion1: c","hovertemplate":"Period: %{x: 0f} <br> Value %{y:0f}","type":"scatter","mode":"lines+markers","line":{"width":2},"marker":{"size":3},"inherit":true},"1f70342e6887.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":[79.7681053566628,79.7681093475317,79.7681142758082,79.7681198355861,79.0617218123755,79.6385651704359,79.3358781117045,79.4398766851982,79.3808092402895,79.3926465239277,79.3783559307858,79.3773622919475,79.3729559299378,79.3716243887801,79.3703606905586,79.3701230367377,79.3702824186557,79.370903523863,79.3717993406893,79.3729156143489,79.3741680796704,79.375505702839,79.376881320594,79.3782608783193,79.379617163683,79.3809302774746,79.3821856359615,79.3833732587728,79.384486761325,79.3855226723775,79.3864797937445,79.3873586945528,79.3881612806455,79.388890444835,79.3895497792117,79.390143342889,79.3906754754128,79.3911506490197,79.3915733531819,79.3919480060737],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40],"name":"expansion1: ydhs","hovertemplate":"Period: %{x: 0f} <br> Value %{y:0f}","type":"scatter","mode":"lines+markers","line":{"width":2},"marker":{"size":3},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"spikedistance":1000,"hovermode":"spikers","xaxis":{"domain":[0,1],"automargin":true,"title":"period"},"showlegend":true,"legend":{"xanchor":"left","x":1.02,"y":0.92},"title":{"text":"Scenario expansion1"},"yaxis":{"domain":[0,1],"automargin":true,"title":[]}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"y":[79.7681395729929,79.7681377686795,79.7681377254159,79.7681390371338,79.7681413670155,79.2736616601342,79.5502985881463,79.4072809495088,79.4425457694256,79.4089329611537,79.4075468987745,79.3961140914263,79.3915143005381,79.3863334935372,79.3832324158817,79.3807794826215,79.3792798055586,79.3783671879005,79.3779902648792,79.3780010234015,79.3783197094274,79.3788628323774,79.3795692648061,79.3803863773836,79.381273038862,79.3821960254085,79.3831294624062,79.3840532978016,79.3849524220955,79.3858157395989,79.3866354504035,79.3874064119394,79.3881256124861,79.3887917240291,79.3894047308051,79.3899656199457,79.3904761265213,79.3909385244951,79.3913554568829,79.3917297989939],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40],"name":"expansion1: c","hovertemplate":["Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}"],"type":"scatter","mode":"lines+markers","line":{"color":"rgba(31,119,180,1)","width":2},"marker":{"color":"rgba(31,119,180,1)","size":3,"line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"y":[79.7681053566628,79.7681093475317,79.7681142758082,79.7681198355861,79.0617218123755,79.6385651704359,79.3358781117045,79.4398766851982,79.3808092402895,79.3926465239277,79.3783559307858,79.3773622919475,79.3729559299378,79.3716243887801,79.3703606905586,79.3701230367377,79.3702824186557,79.370903523863,79.3717993406893,79.3729156143489,79.3741680796704,79.375505702839,79.376881320594,79.3782608783193,79.379617163683,79.3809302774746,79.3821856359615,79.3833732587728,79.384486761325,79.3855226723775,79.3864797937445,79.3873586945528,79.3881612806455,79.388890444835,79.3895497792117,79.390143342889,79.3906754754128,79.3911506490197,79.3915733531819,79.3919480060737],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40],"name":"expansion1: ydhs","hovertemplate":["Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}"],"type":"scatter","mode":"lines+markers","line":{"color":"rgba(255,127,14,1)","width":2},"marker":{"color":"rgba(255,127,14,1)","size":3,"line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot results</span></span>
<span><span class="fu"><a href="../reference/plot_simulation.html">plot_simulation</a></span><span class="op">(</span>model <span class="op">=</span> <span class="va">model_dis</span>, scenario <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"expansion1"</span><span class="op">)</span>, from <span class="op">=</span> <span class="fl">1</span>, to <span class="op">=</span> <span class="fl">40</span>, </span>
<span>                expressions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"delta_inv = inv - dplyr::lag(inv)"</span>, </span>
<span>                                <span class="st">"delta_inv_E = inv_E - dplyr::lag(inv_E)"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div id="htmlwidget-ba50cbdc88747e719cc2" style="width:100%;height:432.632880098888px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-ba50cbdc88747e719cc2">{"x":{"visdat":{"1f703202123":["function () ","plotlyVisDat"]},"cur_data":"1f703202123","attrs":{"1f703202123":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":[null,-3.5659658806253e-05,-2.94219297103382e-05,-2.40919419098873e-05,-1.9556601770887e-05,0.494467062928138,-0.290553146858372,0.0441692590925413,-0.0836568555124728,-0.0220691403435467,-0.0395555860602457,-0.0254098602812718,-0.0251477520616561,-0.0199317562648815,-0.0174419922956304,-0.0144401502003717,-0.0121920215901952,-0.0101137312497457,-0.00838908921009818,-0.00689104710437505,-0.0056257177975283,-0.004549120345132,-0.00364233240385659,-0.002880184075849,-0.00224381435975829,-0.00171516755960965,-0.00127894382175953,-0.000921495386435822,-0.000630999447864156,-0.000397124401658289,-0.000210924501502063,-6.4660041189768e-05,4.8332585166122e-05,0.000133772862128012,0.000196549656394041,0.000240825695883018,0.00027013020721256,0.000287441988604087,0.000295263103751608,0.000295684231005566],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40],"name":"expansion1: delta_inv","hovertemplate":"Period: %{x: 0f} <br> Value %{y:0f}","type":"scatter","mode":"lines+markers","line":{"width":2},"marker":{"size":3},"inherit":true},"1f703202123.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":[null,-3.23884338868652e-05,-2.68430735914649e-05,-2.20922464411188e-05,-1.80385141561601e-05,-1.4594312837346e-05,0.356943073724691,-0.213611252411292,0.0301804751658477,-0.0624874358625842,-0.017433414047364,-0.029926062247025,-0.0194437860930829,-0.0190867808855035,-0.0151510191053781,-0.0132192625074641,-0.0109335434696565,-0.00921205231488464,-0.0076279748395045,-0.0063130869680954,-0.00517330025997076,-0.00421157903659086,-0.0033946375979923,-0.00270758022562134,-0.00213111449632564,-0.00165066752560072,-0.00125236836203158,-0.000924453123840152,-0.000656449983710061,-0.000439293826104858,-0.000265073556509066,-0.000126946573566045,-1.90000370547949e-05,6.38507027108659e-05,0.000125964349701135,0.000171061733647448,0.000202306651829076,0.000222377497827608,0.000233531395071651,0.000237661027123082],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40],"name":"expansion1: delta_inv_E","hovertemplate":"Period: %{x: 0f} <br> Value %{y:0f}","type":"scatter","mode":"lines+markers","line":{"width":2},"marker":{"size":3},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"spikedistance":1000,"hovermode":"spikers","xaxis":{"domain":[0,1],"automargin":true,"title":"period"},"showlegend":true,"legend":{"xanchor":"left","x":1.02,"y":0.92},"title":{"text":"Scenario expansion1"},"yaxis":{"domain":[0,1],"automargin":true,"title":[]}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"y":[-3.5659658806253e-05,-2.94219297103382e-05,-2.40919419098873e-05,-1.9556601770887e-05,0.494467062928138,-0.290553146858372,0.0441692590925413,-0.0836568555124728,-0.0220691403435467,-0.0395555860602457,-0.0254098602812718,-0.0251477520616561,-0.0199317562648815,-0.0174419922956304,-0.0144401502003717,-0.0121920215901952,-0.0101137312497457,-0.00838908921009818,-0.00689104710437505,-0.0056257177975283,-0.004549120345132,-0.00364233240385659,-0.002880184075849,-0.00224381435975829,-0.00171516755960965,-0.00127894382175953,-0.000921495386435822,-0.000630999447864156,-0.000397124401658289,-0.000210924501502063,-6.4660041189768e-05,4.8332585166122e-05,0.000133772862128012,0.000196549656394041,0.000240825695883018,0.00027013020721256,0.000287441988604087,0.000295263103751608,0.000295684231005566],"x":[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40],"name":"expansion1: delta_inv","hovertemplate":["Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}"],"type":"scatter","mode":"lines+markers","line":{"color":"rgba(31,119,180,1)","width":2},"marker":{"color":"rgba(31,119,180,1)","size":3,"line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"y":[-3.23884338868652e-05,-2.68430735914649e-05,-2.20922464411188e-05,-1.80385141561601e-05,-1.4594312837346e-05,0.356943073724691,-0.213611252411292,0.0301804751658477,-0.0624874358625842,-0.017433414047364,-0.029926062247025,-0.0194437860930829,-0.0190867808855035,-0.0151510191053781,-0.0132192625074641,-0.0109335434696565,-0.00921205231488464,-0.0076279748395045,-0.0063130869680954,-0.00517330025997076,-0.00421157903659086,-0.0033946375979923,-0.00270758022562134,-0.00213111449632564,-0.00165066752560072,-0.00125236836203158,-0.000924453123840152,-0.000656449983710061,-0.000439293826104858,-0.000265073556509066,-0.000126946573566045,-1.90000370547949e-05,6.38507027108659e-05,0.000125964349701135,0.000171061733647448,0.000202306651829076,0.000222377497827608,0.000233531395071651,0.000237661027123082],"x":[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40],"name":"expansion1: delta_inv_E","hovertemplate":["Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}"],"type":"scatter","mode":"lines+markers","line":{"color":"rgba(255,127,14,1)","width":2},"marker":{"color":"rgba(255,127,14,1)","size":3,"line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level4">
<h4 id="shock-2">Shock 2<a class="anchor" aria-label="anchor" href="#shock-2"></a>
</h4>
<p>In this example you will implement an increase in the target
inventories to sales ratio.<br><br>
First you need to create empty shock:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create empty shock</span></span>
<span><span class="va">shock_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_shock.html">create_shock</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Shock object created</span></span></code></pre></div>
<p>Next you need to add appropriate equation:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add shock equation</span></span>
<span><span class="va">shock_dis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_shock.html">add_shock</a></span><span class="op">(</span><span class="va">shock_dis</span>, equation <span class="op">=</span> <span class="st">"sigma_T  = 0.25"</span>, </span>
<span>                       desc <span class="op">=</span> <span class="st">"Increase in the target inventories to sales ratio"</span>, start <span class="op">=</span> <span class="fl">5</span>, end <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></code></pre></div>
<p>Later you need to create new shock scenario:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create new scenario with this shock</span></span>
<span><span class="va">model_dis</span><span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_scenario.html">add_scenario</a></span><span class="op">(</span><span class="va">model_dis</span>, name <span class="op">=</span> <span class="st">"expansion2"</span>, origin <span class="op">=</span> <span class="st">"baseline"</span>, </span>
<span>                         origin_period <span class="op">=</span> <span class="fl">100</span>, shock <span class="op">=</span> <span class="va">shock_dis</span><span class="op">)</span></span></code></pre></div>
<p>Now you can simulate new shock scenario:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Simulate shock</span></span>
<span><span class="va">model_dis</span><span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_scenario.html">simulate_scenario</a></span><span class="op">(</span><span class="va">model_dis</span>, scenario <span class="op">=</span> <span class="st">"expansion2"</span>, max_iter <span class="op">=</span> <span class="fl">350</span>, periods <span class="op">=</span> <span class="fl">100</span>, </span>
<span>                              hidden_tol <span class="op">=</span> <span class="fl">0.1</span>, tol <span class="op">=</span> <span class="fl">1e-08</span>, method <span class="op">=</span> <span class="st">"Gauss"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simulating scenario expansion2 (1 of 1)</span></span>
<span><span class="co">#&gt; Scenario(s) successfully simulated</span></span></code></pre></div>
<p>You can also display results on the plot:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot results</span></span>
<span><span class="fu"><a href="../reference/plot_simulation.html">plot_simulation</a></span><span class="op">(</span>model <span class="op">=</span> <span class="va">model_dis</span>, scenario <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"expansion2"</span><span class="op">)</span>, from <span class="op">=</span> <span class="fl">1</span>, to <span class="op">=</span> <span class="fl">50</span>, </span>
<span>                expressions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"c"</span>, <span class="st">"ydhs"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div id="htmlwidget-55516260c6e56ef0e994" style="width:100%;height:432.632880098888px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-55516260c6e56ef0e994">{"x":{"visdat":{"1f702da4320":["function () ","plotlyVisDat"]},"cur_data":"1f702da4320","attrs":{"1f702da4320":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":[79.7681395729929,79.7681377686795,79.7681377254159,79.7681390371338,79.7681413670155,80.8613768838039,81.038483262995,81.5432942025195,81.812019963975,82.1169125325647,82.340430249253,82.5453926906126,82.7098868962338,82.8506179084654,82.9656069087303,83.0609024463824,83.138217703357,83.2007366812751,83.2504673908081,83.2895227526015,83.3195713023845,83.3421354910676,83.3584922937693,83.3697553711069,83.3768695382537,83.3806429232031,83.3817586857439,83.3807935220727,83.3782304892752,83.3744721424256,83.3698513891348,83.3646414542511,83.3590644848958,83.3532991829935,83.3474874438457,83.3417401587762,83.336142245665,83.3307570042907,83.325629867509,83.3207916211843,83.3162611552068,83.312047803651,83.3081533254847,83.3045735722683,83.3012998841274,83.2983202507997,83.2956202703348,83.2931839342352,83.2909942643696,83.2890338238746],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],"name":"expansion2: c","hovertemplate":"Period: %{x: 0f} <br> Value %{y:0f}","type":"scatter","mode":"lines+markers","line":{"width":2},"marker":{"size":3},"inherit":true},"1f702da4320.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":[79.7681053566628,79.7681093475317,79.7681142758082,79.7681198355861,81.3298864176178,81.1813009503003,81.8302304898126,82.0211206019776,82.3479016368518,82.5444626453292,82.7435605387563,82.8914392069055,83.0201583392863,83.121028325288,83.2035517629318,83.2680875661627,83.3186344310033,83.3569510142488,83.3853505576636,83.4054562833777,83.4188304139597,83.4267271868613,83.4302488722154,83.4303102467334,83.427688309884,83.4230288054928,83.4168695637442,83.40965302932,83.4017410936437,83.3934263842279,83.3849429699061,83.3764753303624,83.368166334352,83.3601240735353,83.3524278006953,83.3451330191031,83.3382758492001,83.3318767479991,83.3259436671627,83.3204747185871,83.3154604129237,83.3108855275499,83.3067306550015,83.3029734766126,83.299589800995,83.2965544020937,83.2938416872696,83.2914262219542,83.2892831339627,83.2873884174482],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],"name":"expansion2: ydhs","hovertemplate":"Period: %{x: 0f} <br> Value %{y:0f}","type":"scatter","mode":"lines+markers","line":{"width":2},"marker":{"size":3},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"spikedistance":1000,"hovermode":"spikers","xaxis":{"domain":[0,1],"automargin":true,"title":"period"},"showlegend":true,"legend":{"xanchor":"left","x":1.02,"y":0.92},"title":{"text":"Scenario expansion2"},"yaxis":{"domain":[0,1],"automargin":true,"title":[]}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"y":[79.7681395729929,79.7681377686795,79.7681377254159,79.7681390371338,79.7681413670155,80.8613768838039,81.038483262995,81.5432942025195,81.812019963975,82.1169125325647,82.340430249253,82.5453926906126,82.7098868962338,82.8506179084654,82.9656069087303,83.0609024463824,83.138217703357,83.2007366812751,83.2504673908081,83.2895227526015,83.3195713023845,83.3421354910676,83.3584922937693,83.3697553711069,83.3768695382537,83.3806429232031,83.3817586857439,83.3807935220727,83.3782304892752,83.3744721424256,83.3698513891348,83.3646414542511,83.3590644848958,83.3532991829935,83.3474874438457,83.3417401587762,83.336142245665,83.3307570042907,83.325629867509,83.3207916211843,83.3162611552068,83.312047803651,83.3081533254847,83.3045735722683,83.3012998841274,83.2983202507997,83.2956202703348,83.2931839342352,83.2909942643696,83.2890338238746],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],"name":"expansion2: c","hovertemplate":["Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}"],"type":"scatter","mode":"lines+markers","line":{"color":"rgba(31,119,180,1)","width":2},"marker":{"color":"rgba(31,119,180,1)","size":3,"line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"y":[79.7681053566628,79.7681093475317,79.7681142758082,79.7681198355861,81.3298864176178,81.1813009503003,81.8302304898126,82.0211206019776,82.3479016368518,82.5444626453292,82.7435605387563,82.8914392069055,83.0201583392863,83.121028325288,83.2035517629318,83.2680875661627,83.3186344310033,83.3569510142488,83.3853505576636,83.4054562833777,83.4188304139597,83.4267271868613,83.4302488722154,83.4303102467334,83.427688309884,83.4230288054928,83.4168695637442,83.40965302932,83.4017410936437,83.3934263842279,83.3849429699061,83.3764753303624,83.368166334352,83.3601240735353,83.3524278006953,83.3451330191031,83.3382758492001,83.3318767479991,83.3259436671627,83.3204747185871,83.3154604129237,83.3108855275499,83.3067306550015,83.3029734766126,83.299589800995,83.2965544020937,83.2938416872696,83.2914262219542,83.2892831339627,83.2873884174482],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],"name":"expansion2: ydhs","hovertemplate":["Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}"],"type":"scatter","mode":"lines+markers","line":{"color":"rgba(255,127,14,1)","width":2},"marker":{"color":"rgba(255,127,14,1)","size":3,"line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot results</span></span>
<span><span class="fu"><a href="../reference/plot_simulation.html">plot_simulation</a></span><span class="op">(</span>model <span class="op">=</span> <span class="va">model_dis</span>, scenario <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"expansion2"</span><span class="op">)</span>, from <span class="op">=</span> <span class="fl">1</span>, to <span class="op">=</span> <span class="fl">50</span>, </span>
<span>                expressions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"delta_inv = inv - dplyr::lag(inv)"</span>, </span>
<span>                                <span class="st">"delta_inv_E = inv_E - dplyr::lag(inv_E)"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div id="htmlwidget-d2f7499ad58cbd91dd37" style="width:100%;height:432.632880098888px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-d2f7499ad58cbd91dd37">{"x":{"visdat":{"1f706dc23ff5":["function () ","plotlyVisDat"]},"cur_data":"1f706dc23ff5","attrs":{"1f706dc23ff5":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":[null,-3.5659658806253e-05,-2.94219297103382e-05,-2.40919419098873e-05,1.99418391256161,0.40240448989006,0.995869558731414,0.601016018068336,0.674038666665382,0.537777876211635,0.507062317265792,0.435261633774715,0.390263299464479,0.340125602409728,0.299290011925223,0.260600033473693,0.226930415242634,0.196488340693463,0.169657733310459,0.145822644179461,0.124849351278144,0.106400492365566,0.0902563213267626,0.0761666794988969,0.0639204861913072,0.0533134925675398,0.0441629012347562,0.0362998489594588,0.0295719320572658,0.0238408822669527,0.0189823789388868,0.0148847972962614,0.0114484200191072,0.00858443263450681,0.00621404259979386,0.004267582129998,0.00268367319657159,0.00140842763318005,0.000394701126893438,-0.000398604048100992,-0.00100718365291641,-0.00146192540839252,-0.00178945271714781,-0.00201262031701788,-0.00215096393998238,-0.00222110657547603,-0.00223712401168541,-0.00221087247841467,-0.00215228121486177,-0.00206961277079643],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],"name":"expansion2: delta_inv","hovertemplate":"Period: %{x: 0f} <br> Value %{y:0f}","type":"scatter","mode":"lines+markers","line":{"width":2},"marker":{"size":3},"inherit":true},"1f706dc23ff5.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":[null,-3.23884338868652e-05,-2.68430735914649e-05,-2.20922464411188e-05,1.99418543064924,1.49563805631869,0.353048812741372,0.768015391904106,0.479703332055347,0.525360849693286,0.422583208734927,0.395586581313164,0.339876300610719,0.303765659306769,0.264458014182757,0.232198571425201,0.201849769053034,0.175421900089596,0.151602854774417,0.130633576805785,0.112045272424393,0.0957151115521384,0.0813775901420755,0.0688532713386891,0.0579432239602831,0.0484783948125056,0.0402965043874168,0.0332523235356099,0.027212181574896,0.0220556305943873,0.0176736595795006,0.0139684358634824,0.0108522951893484,0.00824706888009175,0.00608326441565055,0.00429934166223234,0.00284098503796315,0.00166042733045657,0.000715805643721978,-2.94374617624271e-05,-0.000607111659277848,-0.00104479298818561,-0.00136629622259576,-0.00159210624348205,-0.00173977034618744,-0.00182425336370073,-0.0018582578460169,-0.00185251157166277,-0.00181602475420206,-0.00175631928494724],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],"name":"expansion2: delta_inv_E","hovertemplate":"Period: %{x: 0f} <br> Value %{y:0f}","type":"scatter","mode":"lines+markers","line":{"width":2},"marker":{"size":3},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"spikedistance":1000,"hovermode":"spikers","xaxis":{"domain":[0,1],"automargin":true,"title":"period"},"showlegend":true,"legend":{"xanchor":"left","x":1.02,"y":0.92},"title":{"text":"Scenario expansion2"},"yaxis":{"domain":[0,1],"automargin":true,"title":[]}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"y":[-3.5659658806253e-05,-2.94219297103382e-05,-2.40919419098873e-05,1.99418391256161,0.40240448989006,0.995869558731414,0.601016018068336,0.674038666665382,0.537777876211635,0.507062317265792,0.435261633774715,0.390263299464479,0.340125602409728,0.299290011925223,0.260600033473693,0.226930415242634,0.196488340693463,0.169657733310459,0.145822644179461,0.124849351278144,0.106400492365566,0.0902563213267626,0.0761666794988969,0.0639204861913072,0.0533134925675398,0.0441629012347562,0.0362998489594588,0.0295719320572658,0.0238408822669527,0.0189823789388868,0.0148847972962614,0.0114484200191072,0.00858443263450681,0.00621404259979386,0.004267582129998,0.00268367319657159,0.00140842763318005,0.000394701126893438,-0.000398604048100992,-0.00100718365291641,-0.00146192540839252,-0.00178945271714781,-0.00201262031701788,-0.00215096393998238,-0.00222110657547603,-0.00223712401168541,-0.00221087247841467,-0.00215228121486177,-0.00206961277079643],"x":[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],"name":"expansion2: delta_inv","hovertemplate":["Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}"],"type":"scatter","mode":"lines+markers","line":{"color":"rgba(31,119,180,1)","width":2},"marker":{"color":"rgba(31,119,180,1)","size":3,"line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"y":[-3.23884338868652e-05,-2.68430735914649e-05,-2.20922464411188e-05,1.99418543064924,1.49563805631869,0.353048812741372,0.768015391904106,0.479703332055347,0.525360849693286,0.422583208734927,0.395586581313164,0.339876300610719,0.303765659306769,0.264458014182757,0.232198571425201,0.201849769053034,0.175421900089596,0.151602854774417,0.130633576805785,0.112045272424393,0.0957151115521384,0.0813775901420755,0.0688532713386891,0.0579432239602831,0.0484783948125056,0.0402965043874168,0.0332523235356099,0.027212181574896,0.0220556305943873,0.0176736595795006,0.0139684358634824,0.0108522951893484,0.00824706888009175,0.00608326441565055,0.00429934166223234,0.00284098503796315,0.00166042733045657,0.000715805643721978,-2.94374617624271e-05,-0.000607111659277848,-0.00104479298818561,-0.00136629622259576,-0.00159210624348205,-0.00173977034618744,-0.00182425336370073,-0.0018582578460169,-0.00185251157166277,-0.00181602475420206,-0.00175631928494724],"x":[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],"name":"expansion2: delta_inv_E","hovertemplate":["Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}","Period: %{x: 0f} <br> Value %{y:0f}"],"type":"scatter","mode":"lines+markers","line":{"color":"rgba(255,127,14,1)","width":2},"marker":{"color":"rgba(255,127,14,1)","size":3,"line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="section level3">
<h3 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<p>More information about model DIS can be found in Chapter 9 in
<em>Monetary Economics. An Integrated Approach to Credit, Money, Income,
Production and Wealth.</em></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
